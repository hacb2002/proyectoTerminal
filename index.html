<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <script src="main.js"></script>
      <style>
         textarea {
            width: 500px;
            height: 200px;
         }
      </style>
   </head>
   <body onload="inicializa( )">
      Código: <textarea id="codigo">
int f(int a, int b) {
   return a + b;
}
      </textarea><br>
      Invocación: <input type="text" id="invocacion" value="f 1 2"><br>
      Salida: <textarea id="salida" readonly></textarea><br>
      <button type="button" id="boton" onclick="procesa( )">Procesar</button>
      <script>
         async function inicializa( ) {
            let wasm = await cargador_wasm( );
            let traduce = wasm.cwrap("traduce", "string", [ "string", "string" ]);
            
            document.getElementById("boton").onclick = function( ) {
               document.getElementById("salida").value = traduce(document.getElementById("codigo").value, document.getElementById("invocacion").value);
            };
         }
      </script>
   </body>
</html>
